---
template: post
title: Nuxt Static-Verbesserungen
description: Mit Nuxt Version 2.13 wurde der full-static Modus eingef√ºhrt. Au√üerdem wurde ein neuer Befehl nuxt export hinzugef√ºgt, um Ihre Seiten vorzurechnen, ohne einen Webpack-Build auszul√∂sen, mit dem Ziel, den Rendering- und Build-Prozess zu trennen. Das einzige Problem war, dass die meisten Nuxt-Benutzer nicht in der Lage waren, das volle Potenzial der Trennung auszusch√∂pfen... bis jetzt.
imgUrl: blog/nuxt-static-improvements/main.jpeg
imgCredits: Naresh Bojja
imgCreditsUrl: https://unsplash.com/@nareshbojja
date: 2020-07-27
authors:
  - name: Alexander Lichter
    avatarUrl: https://pbs.twimg.com/profile_images/1316077440414998528/mY2rcM7__400x400.jpg
    link: https://twitter.com/TheAlexLichter
  - name: S√©bastien Chopin
    avatarUrl: https://pbs.twimg.com/profile_images/1042510623962275840/1Iw_Mvud_400x400.jpg
    link: https://twitter.com/atinux
  - name: Pooya Parsa
    avatarUrl: https://pbs.twimg.com/profile_images/1268227177612541952/9-fujxqt_400x400.jpg
    link: https://twitter.com/_pi0_
tags:
  - release
  - full-static
  - framework
category: Release
---

## Einf√ºhrung

Mit Nuxt Version 2.13 wurde der [full-static Modus](/announcements/going-full-static) eingef√ºhrt. Au√üerdem wurde ein neuer Befehl nuxt export hinzugef√ºgt, um Ihre Seiten vorzurechnen, ohne einen Webpack-Build auszul√∂sen, mit dem Ziel, den Rendering- und Build-Prozess zu trennen. Das einzige Problem war, dass die meisten Nuxt-Benutzer nicht in der Lage waren, das volle Potenzial der Trennung auszusch√∂pfen... **bis jetzt**.


- [Einf√ºhrung](#introduction)
- [Schnellere Static Deployments](#faster-static-deployments)
- [Generierungszeit: Cache vs. vollst√§ndiger Webpack-Build Prozess](#generate-time-cache-vs-full-webpack-build)
- [Verwendung in Ihren Projekten](#using-in-your-projects)
  - [Dateien aus dem Cache ausschlie√üen](#excluding-files-from-cache)
  - [F√ºr Modul-Autoren](#module-authors)
- [Wie es funktioniert](#how-it-works)
  - [Zur√ºck zu den alten Befehlen](#back-to-old-school-commands)
- [Was ist als n√§chstes zu tun?](#what-to-do-next)

## Schnellere Static Deployments

Mit Version 2.14, `nuxt generate` √ºberspringt **automatisch den Webpack-Build, wenn kein Code ge√§ndert wurde** und verwendet den vorherigen Build unter Verwendung des Cache. Dies wird helfen, die Zeit f√ºr Static Deployments drastisch zu verbessern, indem unn√∂tige Builds vermieden werden, die normalerweise der zeitaufw√§ndigste Teil des Generierungsprozesses sind. Die Cache-Unterst√ºtzung ist **plattformunabh√§ngig** und funktioniert mit Netlify, Vercel oder jedem anderen CI/CD-Setup, das "node_modules" zwischenspeichert.

::video-player
---
sources:
- src: https://res.cloudinary.com/nuxt/video/upload/v1595852304/nuxt-smart-generate_pjaat1.webm
  type: video/webm
- src: https://res.cloudinary.com/nuxt/video/upload/v1595852304/nuxt-smart-generate_pjaat1.mp4
  type: video/mp4
- src: https://res.cloudinary.com/nuxt/video/upload/v1595852304/nuxt-smart-generate_pjaat1.ogv
  type: video/ogg
poster: https://res.cloudinary.com/nuxt/video/upload/v1595852304/nuxt-smart-generate_pjaat1.jpg
---
::

## Generierungszeit: Cache vs. vollst√§ndiger Webpack-Build Prozess

Siehe den Vergleich in Sekunden zwischen den beiden Befehlen `nuxt generate`:

- `Build` ist, wenn ein Webpack-Build erforderlich ist
- `Cache` ist nur, wenn sich der Inhalt ge√§ndert hat (Webpack-Build √ºbersprungen)

<bar-chart-cache-build></bar-chart-cache-build>

::alert{type="next"}
Die Static Generation unserer Projekte bei Inhalts√§nderungen ist jetzt **~3,6x** schneller üöÄ.
::

Projekt-Links: [Basic](https://github.com/pi0/nuxt-static-demo), [Strapi Module Docs](https://github.com/nuxt-community/strapi-module/tree/master/docs), [Content Module Docs](https://github.com/nuxt/content/tree/master/docs) und [Nuxt Docs](https://github.com/nuxt/nuxtjs.org).

## Verwendung in Ihren Projekten

1. Aktualisieren Sie `nuxt` auf die neueste Nebenversion v2.14.

::code-group
```bash [Yarn]
yarn upgrade nuxt
```
```bash [NPM]
npm update
```
::

2.¬†Gehe¬†sicher, dass¬†`target`,¬†`static`¬†ist¬†innerhalb¬†deiner¬†`nuxt.config`

```js{}[nuxt.config.js]
export default {
  target: 'static'
  // ...
}
```

`nuxt generate` verh√§lt sich wie bisher, um √Ñnderungen zu vermeiden und Legacy-Kompatibilit√§t zu gew√§hrleisten, wenn Sie `target: ‚Äòserver‚Äô` beibehalten oder das Ziel nicht angeben.

3. Das war's üôå

Nun wird der Befehl `nuxt generate` das Projekt nur dann erstellen, wenn es notwendig ist, was der Fall ist, wenn Dateien innerhalb des Projekts ge√§ndert wurden. Es wird Ihre Routen immer in statische HTML-Dateien umwandeln, wie es `nuxt export` bereits tut.

Jetzt m√ºssen Sie nur noch Ihren Build-Befehl von `nuxt build && nuxt export` in `nuxt generate` auf der von Ihnen verwendeten Plattform √§ndern. Wenn Sie ein CI verwenden, stellen Sie sicher, dass Sie `node_modules` richtig zwischenspeichern.

### Dateien aus dem Cache ausschlie√üen

Standardm√§√üig ignoriert Nuxt diese Verzeichnisse, so dass bei √Ñnderungen innerhalb dieser Verzeichnisse kein Build ausgel√∂st wird:

- Build Ordner (`.nuxt/`)
- Static Ordner (`static/`)
- Generate dist (`dist/`)
- `node_modules`
- `README.md`
- Versteckte dotfiles (z.B. `.npmrc`)

Sie k√∂nnen weitere Ausnahmen hinzuf√ºgen, indem Sie die [generate.cache.ignore](/docs/configuration-glossary/configuration-generate#cache) Option in `nuxt.config` benutzen:

```js{}[nuxt.config.js]
export default {
  generate: {
    cache: {
      ignore: [
        // When something changed in the docs folder, do not re-build via webpack
        'docs'
      ]
    }
  }
}
```

Es ist auch m√∂glich, eine Funktion f√ºr die Option `ignore` zu verwenden, um die Standard-Eintr√§ge zu √ºberschreiben.

### F√ºr Modul-Autoren

Was ist, wenn Sie ein Nuxt-Modul entwickeln, das mit Dateien arbeitet, die keinen Rebuild ausl√∂sen sollen? Ein gutes Beispiel ist das [@nuxt/content](https://content.nuxtjs.org) Modul, das Markdown-Dateien aus dem Repository liest. In diesem Fall werden diese Dateien innerhalb eines Laufzeitmoduls verwendet, was bei der Verwendung von `@nuxt/content` der Fall ist. Das Modul selbst kann nuxt anweisen, diese Dateien f√ºr Sie zu ignorieren, so dass Sie nichts tun m√ºssen! Modulautoren k√∂nnen dazu den neuen `generate:cache:ignore`-Hook verwenden:

```js
nuxt.hook('generate:cache:ignore', ignore => ignore.push('content'))
```

## Wie es funktioniert

Wenn man das neue `nuxt generate` mit `static` target benutzt, wird ein Snapshot mit der Pr√ºfsumme der nicht-ignorierten Projektdateien sowie der Nuxt-Version und einigen anderen Konfigurationen in `.nuxt/build.json` geschrieben. Zus√§tzlich verschieben wir auch das Build-Verzeichnis nach `node_modules/.cache/nuxt`. Da `node_modules` von allen wichtigen Plattformen (Netlify, Vercel, ...) und g√§ngigen CI/CD-Skripten gecached wird, funktioniert diese L√∂sung ohne zus√§tzliche Konfiguration.

Wenn `nuxt generate` anschlie√üend ausgef√ºhrt wird, erstellt es wieder eine Pr√ºfsumme auf der Grundlage Ihrer Projektdateien und vergleicht sie dann mit der vorhandenen Pr√ºfsumme in `node_modules/.cache/nuxt/build.json`.

Wenn sie √ºbereinstimmen, bedeutet das, dass sich nichts ge√§ndert hat, was neu erstellt werden muss, so dass wir direkt mit dem Rendern der Seiten beginnen k√∂nnen.

Wird eine Nicht√ºbereinstimmung festgestellt, bedeutet dies, dass ein vollst√§ndiger Rebuild erforderlich ist. Sie k√∂nnen auch in der Konsole nachsehen, welche Datei den Rebuild verursacht hat. Nach dem Build wird nuxt generate die neue Pr√ºfsumme in `.nuxt/build.json` speichern. Sie k√∂nnen die vollst√§ndige Implementierung [hier √ºberpr√ºfen](https://github.com/nuxt/nuxt.js/pull/7712).


### Zur√ºck zu den alten Befehlen

Mit Nuxt v2.13 haben wir `nuxt export` und `nuxt serve` eingef√ºhrt, die speziell f√ºr Static Targets entwickelt wurden. Mit Nuxt v2.14 sind sie veraltet, da `nuxt generate` und `nuxt start` das Ziel intelligent erkennen und builden.

Server target:

- `nuxt dev` = Entwicklungs Server
- `nuxt build` = Ihre Anwendung f√ºr die Production builden
- `nuxt start` = Den Production Server starten (F√ºr Node.js hosting wie Heroku, Digital Ocean, etc)

Static target:

- `nuxt dev` = Entwicklungs Server
- `nuxt generate` = Ihre Anwendung f√ºr die Production builden
- `nuxt start` = - `nuxt start` = das Verzeichnis `dist/` zu benutzen, wie es Ihr Static Hosting tun w√ºrde (Netlify, Vercel, Surge, usw.), ideal f√ºr Tests vor dem Deployment

## Was ist als n√§chstes zu tun?

- Aktualisieren Sie Ihr Projekt auf [nuxt@2.14.0](https://github.com/nuxt/nuxt.js/releases/tag/v2.14.0)
- Benutze `nuxt generate` anstatt `nuxt export`
- Benutze `nuxt start` anstatt `nuxt serve`
- Genie√üen schnelle Deployments ü§ô
