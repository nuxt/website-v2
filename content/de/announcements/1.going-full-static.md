---
template: post
title: 'Vollst√§ndig statisch'
description: 'Lang erwartete Funktionen f√ºr Jamstack-Fans wurden in v2.13 eingef√ºhrt: vollst√§ndig statischer Export, verbessertes Smart Prefetching, integrierter Crawler, schnelleres Re-Deployment, eingebauter Webserver und neue Zieloption f√ºr die Konfiguration ‚ö°Ô∏è'
imgUrl: blog/going-full-static/main.jpeg
imgCredits: Vincent Ledvina
imgCreditsUrl: https://unsplash.com/@vincentledvina
date: 2020-06-18
authors:
  - name: Sebastien Chopin
    avatarUrl: https://pbs.twimg.com/profile_images/1042510623962275840/1Iw_Mvud_400x400.jpg
    link: https://twitter.com/Atinux
tags:
  - Nuxt
  - Static
  - Crawler
  - Live Preview
category: Release
---

## Zusammenfasung

1. Aktualisieren Sie Ihr Projekt auf `2.14.0`
2. Setzte `target: 'static'` in ihrer `nuxt.config.js`
3. `nuxt generate` ausf√ºhren
4. Das war's ‚ú®

\_Tipp: Sie k√∂nnen `nuxt start` ausf√ºhren, um einen lokalen Server zu starten, der Ihre generierte statische Anwendung bedient.

## ::video-player

sources:

- src: https://res.cloudinary.com/nuxt/video/upload/v1588095794/nuxt-full-static_rnnbvm.webm
  type: video/webm
- src: https://res.cloudinary.com/nuxt/video/upload/v1592503417/nuxt-full-static_rnnbvm.mp4
  type: video/mp4
- src: https://res.cloudinary.com/nuxt/video/upload/v1588095794/nuxt-full-static_rnnbvm.ogv
  type: video/ogg
  poster: https://res.cloudinary.com/nuxt/video/upload/v1588095794/nuxt-full-static_rnnbvm.jpg

---

::

<p>

Notiz: In diesem Video benutzen wir `nuxt export` welches veraltet ist und durch `nuxt generate` ersetzt wurde.

</p>

## Inhaltsverzeichnis

- [Zusammenfasung](#too-long-to-read)
- [Inhaltsverzeichnis](#table-of-contents)
- [Geschichte](#history)
- [Aktuelle Probleme](#current-issues)
- [Neue Config Option: `target`](#new-config-option-target)
- [Smarter `nuxt generate`](#smarter-nuxt-generate)
  - [Wahnsinnig schnelle statische Anwendungen](#crazy-fast-static-applications)
  - [Crawler integriert](#crawler-integrated)
  - [Schnellerer Re-Deploy](#faster-re-deploy)
- [Smarter `nuxt start`](#smarter-nuxt-start)
- [Vorschau Modus](#preview-mode)
- [Commands](#commands)
  - [Was ist als n√§chstes zu tun?](#what-to-do-next)

## Geschichte

Nuxt hatte die statische Generierungsfunktion `nuxt generate` seit [v0.3.2](https://github.com/nuxt/nuxt.js/releases/tag/v0.3.2) (November 2016). Seither haben wir sie auf verschiedene Weise verbessert, aber nie eine vollst√§ndige statische Generierung erreicht. Heute freue ich mich, ank√ºndigen zu k√∂nnen, dass der vollst√§ndige statische Export nun mit Nuxt 2.13 m√∂glich ist.

## Aktuelle Probleme

`nuxt generate` ist gr√∂√ütenteils Pre-Rendering, wenn Sie clientseitig navigieren, werden "asyncData" und "fetch" aufgerufen, _die eine Anfrage an Ihre API senden_. Viele Benutzer haben darum gebeten, einen "vollst√§ndigen statischen" Modus zu unterst√ºtzen, was bedeutet, dass diese 2 Hooks bei der Navigation nicht aufgerufen werden, da die n√§chste Seite bereits vorgerendert wurde.

Auch die Erfahrung der Entwickler ist nicht optimal:

- Sie haben Zugriff auf `req` oder `res` im SSR, aber nicht, wenn Sie `nuxt generate` ausf√ºhren
- `process.static` ist nur dann `true`, wenn `nuxt generate` ausgef√ºhrt wird, was die Entwicklung von Nuxt-Modulen oder Plugins f√ºr die statische Generierung verlangsamt
- Sie m√ºssen alle Ihre [Dynamic Routes](/docs/features/file-system-routing#dynamic-routes) in `generate.routes` angeben, was es schwieriger macht, da Sie dort keinen Zugriff auf nuxt-Module haben.
- [SPA fallback](/docs/concepts/static-site-generation#spa-fallback) kann in der Entwicklung nicht getestet werden, der Fallback ist eine reine Client-Version Ihrer Nuxt-Anwendung, die beim Aufrufen einer 404-Seite geladen wird
- `nuxt generate` f√ºhrt standardm√§√üig `nuxt build` aus, wodurch die Erstellung der Website langsamer wird, wenn sich nur der Inhalt √§ndert

Beachten Sie, dass es m√∂glich war, vollen statischen Support mit dem [nuxt-payload-extractor](https://github.com/DreaMinder/nuxt-payload-extractor) Modul zu haben, aber es war ausf√ºhrlicher zu benutzen und hatte Einschr√§nkungen.

## Neue Config Option: `target`

Um die Benutzerfreundlichkeit zu verbessern und Nuxt mitzuteilen, dass Sie Ihre Anwendung auf ein statisches Hosting exportieren m√∂chten, f√ºhren wir die Option `target` in `nuxt.config.js` ein:

```js{}[nuxt.config.js]
export default {
  target: 'static' // default is 'server'
}
```

<base-alert type="warning">

Vollst√§ndig statischen Support funktioniert nicht mit `ssr: 'false'` (was dasselbe ist wie die veraltete Option `mode: 'spa'`), da dies nur f√ºr clientseitiges Rendering verwendet wird (Single Page Applications).

</base-alert>

Das Ausf√ºhren von `nuxt dev` mit `target: 'static'` verbessert die Erfahrung der Entwickler:

- `req` & `res` aus dem Context entfernen
- Fallback auf Client-seitiges Rendering bei 404, Fehlern und Weiterleitungen (siehe [SPA fallback](/docs/concepts/static-site-generation#spa-fallback))
- `$route.query` wird beim serverseitigen Rendering immer gleich "{}" sein
- `process.static` ist `true`

Wir stellen auch `process.target` f√ºr Modul-Autoren zur Verf√ºgung, um Logik in Abh√§ngigkeit vom Benutzerziel hinzuzuf√ºgen.

## Smarter `nuxt generate`

Jetzt mit `v2.14.0` kann man `nuxt generate` benutzen, es wird intelligent wissen, ob man Builden muss oder nicht.

### Wahnsinnig schnelle statische Anwendungen

`nuxt generate` mit `target: 'static'` wird alle Ihre Seiten Pre-rendern und in HTML umwandeln und eine Payload-Datei speichern, um `asyncData` und `fetch` bei der Navigation auf der Client-Seite zu simulieren. Das bedeutet **keine HTTP-Aufrufe an Ihre API bei der Navigation auf der Client-Seite mehr.** Durch die Extraktion der Seiten-Payloads in eine JS-Datei wird **auch die HTML-Gr√∂√üe** reduziert, sowie das Vorladen (aus dem <link> im Header) f√ºr optimale Leistung.

Wir haben auch das [smart prefetching](/announcements/introducing-smart-prefetching) verbessert, das bei vollst√§ndigem statischen Support auch die Payloads abruft, so dass die Navigation sofort erfolgt. üëÄ

### Crawler integriert

Dar√ºber hinaus verf√ºgt es √ºber einen Crawler, der jeden relativen Link erkennt und generiert:

Wenn Sie eine Routen ausschlie√üen m√∂chten, verwenden Sie die Option [generate.exclude](/docs/configuration-glossary/configuration-generate#exclude). Sie k√∂nnen [generate.routes](/docs/configuration-glossary/configuration-generate#routes) weiterhin verwenden um extra Routen hinzuf√ºgen die der Crawler nicht erkennt.

Um den Crawler zu deaktivieren setzten sie die Option `generate.crawler: false` in ihre `nuxt.cofig.js`

### Schnellerer Re-Deploy

Durch die Trennung von `nuxt build` und `nuxt export` er√∂ffnen wir eine neue Reihe von Verbesserungen: pre-rendern Sie Ihre Seiten nur, wenn sich Ihr Inhalt ge√§ndert hat, das bedeutet: kein webpack build ‚Üí Schnellerer Re-Deployments.

## Smarter `nuxt start`

Sobald Sie Ihre statische Nuxt-Anwendung in `dist/` generiert haben, verwenden Sie `nuxt start`, um einen Production-HTTP-Server zu starten und Ihre statische Anwendung zu deployen, die [SPA Fallback](/docs/concepts/static-site-generation#spa-fallback) unterst√ºtzt.

Dieser Befehl eignet sich perfekt, um Ihre statische Anwendung lokal zu testen, bevor Sie sie an Ihren bevorzugten Hosting-Anbieter weitergeben.

## Vorschau Modus

Wir unterst√ºtzen die Live-Vorschau, damit Sie Ihre API weiterhin aufrufen k√∂nnen:

```js{}[plugins/preview.client.js]
export default async function ({ query, enablePreview }) {
  if (query.preview) {
    enablePreview()
  }
}
```

Die Daten der Seite werden automatisch aktualisiert (Aufruf von `nuxtServerInit`, `asyncData` und `fetch`).

Wenn der Vorschau Modus aktiviert ist, werden die urspr√ºnglichen Methoden `asyncData` und `fetch` aufgerufen.

## Commands

Je nach `target` k√∂nnen Sie diese Befehle ausf√ºhren.

- `server`
  - `nuxt dev`: Startet den Entwicklungs-Server
  - `nuxt build`: Bundle deine Nuxt Anwendung f√ºr production
  - `nuxt start`: Startet Production Nuxt-Anwendung
- `static`
  - `nuxt dev`: Startet den Development Server (statisch)
  - `nuxt generate`: Bundle Ihre Nuxt-Anwendung bei Bedarf f√ºr die Production (statisch) und exportieren Sie Ihre Anwendung als statisches HTML in das Verzeichnis `dist/`.
  - `nuxt start`: Bedienen sie ihre Anwendung vom Verzeichnis `dist/`

### Was ist als n√§chstes zu tun?

::alert{type="next"}
Um mehr dar√ºber zu erfahren, wie man von @nuxtjs/dotenv zur Laufzeitkonfiguration wechselt, lesen Sie [diesen Artikel](/tutorials/moving-from-nuxtjs-dotenv-to-runtime-config).
::

::alert{type="next"}
[Newsletter abonieren](#subscribe-to-newsletter) um die n√§chsten Artikel und Ressourcen nicht zu verpassen.
::
