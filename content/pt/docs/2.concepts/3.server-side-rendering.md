---
title: Renderização no Lado do Servidor
description: A renderização no lado do servidor (SSR, em Inglês), é a capacidade de uma aplicação contribuir pela exibição da página web no servidor ao invés de renderizar ela no navegador.
category: concepts
---
# Renderização no Lado do Servidor

A renderização no lado do servidor (SSR, em Inglês), é a capacidade de uma aplicação contribuir pela exibição da página web no servidor ao invés de renderizar ela no navegador. Do lado do servidor é enviada uma página completamente renderizada para o cliente; O pacote de JavaScript do cliente assume o qual então permite que aplicação Vue.js para [hidratar](https://ssr.vuejs.org/guide/hydration.html).

---

## Servidor de Node.js necessário

Um ambiente de JavaScript é necessário para renderizar a sua página web.

Um servidor de Node.js precisa ser configurado para executar a sua aplicação Vue.js.

## Estender e controlar o servidor

Você pode estender o servidor com `serverMiddleware` e controlar rotas com o intermediário.

```js{}[server-middleware/logger.js]

export default function (req, res, next) {
  console.log(req.url)
  next()
}
```

```js{}[nuxt.config.js]
export default {
  serverMiddleware: ['~/server-middleware/logger']

}
```

## Ambientes de Servidor vs Navegador

Por você estar em um ambiente Node.js você tem acesso aos objetos do Node.js taís como `req` e o `res`. Você não tem aos objetos `window` ou `document` visto que eles pertencem ao ambiente do navegador. Você pode contudo usar o `window` ou `document` ao usar os gatilhos `beforeMount` ou `mounted`.

```js
beforeMount () {
  window.alert('hello');
}
mounted () {
  window.alert('hello');
}
```

## Passos para renderização no lado do servidor com o Nuxt

### Passo 1: de Navegador para o Servidor

Sempre que um navegador enviar a requisição inicial, ele atingirá o servidor interno do Node.js. O Nuxt gerará o HTML e o enviará de volta para o navegador com os resultados das funções executadas, por exemplo `asyncData`, `nuxtServerInit` ou `fetch`. Funções gatilhos são executadas também.

### Passo 2: de Servidor para o Navegador

O navegador recebe a página renderizada pelo servidor com o HTML gerado. O conteúdo é exibido e a hidratação do Vue.js iniciada, tornando o reativo. Depois deste processo, a página está interativa.

### Passo 3: de Navegador para Navegador

A navegação entre páginas com o componente [`<NuxtLink>`](/docs/features/nuxt-components#o-componente-nuxtlink) é feita no lado do servidor assim você não atinge o servidor novamente a menos que você manualmente atualize o navegador.

## Avisos

### window ou document não definido

Isto é devido a renderização no lado do servidor. Se você precisar especificar que você deseja importar apenas um recurso no lado do servidor, você precisa usar a variável `process.client`.

Por exemplo, dentro do seu ficheiro `.vue`:

```js
if (process.client) {
  require('external_library')
}
```

### iOS e números de telefone

Algumas versões móveis Safari transformarão automaticamente números de telefone em ligações. Isto acionará um aviso de `NodeMismatch` visto que o conteúdo renderizado no lado do servidor já não corresponde ao conteúdo do website. Isto pode tornar a sua aplicação inutilizável nessas versões do Safari.

Se você incluir números de telefone dentro da sua página Nuxt, você tem duas opções.

## Usar um marcador de meta para impedir a transformação

```html
<meta name="format-detection" content="telephone=no" />
```

## Envolver os seus números de telefone dentro de ligações

```html
<!-- Exemplo de número de telefone: +7 (982) 536-50-77 -->

<template>
  <a href="tel: +7 (982) 536-50-77">+7 (982) 536-50-77</a>
</template>
```
