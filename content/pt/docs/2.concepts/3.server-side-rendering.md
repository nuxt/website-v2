---
title: Interpretação no Lado do Servidor
description: A interpretação no lado do servidor, é a capacidade de uma aplicação contribuir ao exibir a página web no servidor no lugar de interpretá-la no navegador.
category: concepts
---
# Interpretação no Lado do Servidor

A renderização no lado do servidor (SSR, em Inglês), é a capacidade de uma aplicação contribuir ao exibir a página web no servidor no lugar de interpretá-la no navegador. O servidor envia um página completamente interpretada para o cliente; o pacote de JavaScript do cliente assume o controlo que depois permite a aplicação de Vue.js [hidratar](https://ssr.vuejs.org/guide/hydration.html).

---

## Necessário servidor de Node.js

Um ambiente de JavaScript é necessário para interpretar a tua página web.

Um servidor de Node.js precisa ser configurado para executar a tua aplicação de Vue.js.

## Estender e controlar o servidor

Tu podes estender o servidor com `serverMiddleware` e controlar as rotas com o intermediário.

```js{}[server-middleware/logger.js]

export default function (req, res, next) {
  console.log(req.url)
  next()
}
```

```js{}[nuxt.config.js]
export default {
  serverMiddleware: ['~/server-middleware/logger']

}
```

## Os ambientes de Servidor vs Navegador

Por estares em um ambiente de Node.js tens acesso aos objetos da Node.js tais como `req` e o `res`. Tu não tens acesso aos objetos `window` ou `document` já que eles pertencem ao ambiente do navegador. Tu podes contudo usar o `window` ou `document` ao usar os gatilhos `beforeMount` ou `mounted`.

```js
beforeMount () {
  window.alert('hello');
}
mounted () {
  window.alert('hello');
}
```

## Fases da interpretação no lado do servidor com a Nuxt

### Fase 1: do Navegador para o Servidor

Sempre que um navegador enviar a requisição inicial, ele atingirá o servidor interno do Node.js. A Nuxt gerará o HTML e o enviará de volta para o navegador com os resultados a partir das funções executadas, por exemplo `asyncData`, `nuxtServerInit` ou `fetch`. Funções de gatilhos também são executadas.

### Fase 2: do Servidor para o Navegador

O navegador recebe a página interpretada a partir do servidor com o HTML gerado. O conteúdo é exibido e a hidratação da Vue.js faz o seu trabalho, tornando-o reativo. Depois deste processo, a página é interativa.

### Fase 3: do Navegador para Navegador

A navegação entre páginas com o componente [`<NuxtLink>`](/docs/features/nuxt-components#o-componente-nuxtlink) é realizada no lado do cliente assim não atinges o servidor novamente a menos que atualizes o navegador manualmente.

## Advertências

### window ou document não definidos

Isto é por causa da interpretação no lado do servidor. Se precisares de especificar que queres importar apenas um recurso no lado do cliente, precisas usar a variável `process.client`.

Por exemplo,no teu ficheiro `.vue`:

```js
if (process.client) {
  require('external_library')
}
```

### iOS e números de telefone

Algumas versões móveis do Safari transformarão automaticamente números de telefone em ligações. Isto acionará um aviso de `NodeMismatch` já que o conteúdo interpretado no lado do servidor já não corresponde ao conteúdo da página. Isto pode tornar a tua aplicação inutilizável nestas versões do Safari.

Se incluíres números de telefone na tua página de Nuxt, tens duas opções.

## Usar um marcador de meta para impedir a transformação

```html
<meta name="format-detection" content="telephone=no" />
```

## Envolver os teus números de telefone dentro de ligações

```html
<!-- Exemplo de número de telefone: +7 (982) 536-50-77 -->

<template>
  <a href="tel: +7 (982) 536-50-77">+7 (982) 536-50-77</a>
</template>
```
