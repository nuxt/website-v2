---
title: Серверный рендеринг
description: Рендеринг на стороне сервера (SSR) - это способность приложения вносить свой вклад, отображая веб-страницу на сервере, а не отрисоывая её в браузере.
position: 3
category: concepts
questions:
  - question: Какой нужен сервер для рендеринга на стороне сервера?
    answers:
      - PHP сервер
      - JavaScript сервер
      - Node.js сервер
    correctAnswer: Node.js сервер
  - question: Что вы используете для расширения и управления сервером?
    answers:
      - Middleware
      - ServerMiddleware
      - Невозможно управлять сервером
    correctAnswer: ServerMiddleware
  - question: Вы можете разместить отрисованное на стороне сервера приложение на бессерверном хостинг-провайдере
    answers:
      - да
      - нет
    correctAnswer: нет
  - question: Есть ли у нас доступ к документу на стороне сервера?
    answers:
      - Да, доступ есть всегда
      - Нет, объект принадлежит браузеру и недоступен на сервере
    correctAnswer: Нет, объект принадлежит браузеру и недоступен на сервере
  - question: Когда ваша страница станет интерактивной?
    answers:
      - Когда браузер получает отрисованный HTML с сервера
      - Когда начинается гидратация Vue.js
      - Когда браузер отправляет первый запрос
    correctAnswer: Когда начинается гидратация Vue.js
  - question: Навигация между страницами выполнена с помощью <NuxtLink>
    answers:
      - Сторона клиента
      - Сторона сервера
    correctAnswer: Сторона клиента
  - question: Какие шаги правильные?
    answers:
      - браузер → сервер, сервер → браузер, браузер → браузер
      - сервер → браузер, браузер → сервер, сервер → сервер
      - браузер → сервер, сервер → браузер, браузер → сервер
    correctAnswer: браузер → сервер, сервер → браузер, браузер → браузер
---

Серверный рендеринг (SSR) - это способность приложения вносить свой вклад, отрисовывая веб-страницу на сервере, а не в браузере. На стороне сервера клиенту отправляется полностью отрисованная страница; клиентский JavaScript бандл берёт на себя управление, что затем позволяет Vue.js приложению [гидратировать](https://ssr.vuejs.org/ru/guide/hydration.html).

## Требуется сервер Node.js

Для отрисовки вашей веб-страницы требуется среда JavaScript.

Для выполнения вашего Vue.js приложения необходимо настроить Node.js сервер.

## Расширение и управление сервером

Вы можете расширить сервер с помощью serverMiddleware и управлять маршрутами с помощью middleware.

```js{}[server-middleware/logger.js]
export default function (req, res, next) {
  console.log(req.url)
  next()
}
```

```js{}[nuxt.config.js]
export default {
  serverMiddleware: ['~/server-middleware/logger']
}
```

If your server middleware consists of a list of functions mapped to paths:

## Сравнение среды сервера и браузера

Поскольку вы находитесь в среде Node.js, у вас есть доступ к объектам Node.js, таким как `req` и `res`. У вас нет доступа к объектам `window` или `document`, поскольку они пренадлежат среде браузера. Однако вы можете использовать `window` или `document` с помощью хуков `beforeMount` или `mounted`.

```js
beforeMount{
  window.alert('hello');
}
mounted{
  window.alert('hello');
}
```

## Шаги серверного рендеринга с Nuxt.js

### Шаг 1: От браузера к серверу

Когда браузер отправляет первый запрос, он попадает на внутренний сервер Node.js. Nuxt.js сгенерирует HTML и отправит его обратно в браузер с результатами выполненных функций, например `asyncData`, `nuxtServerInit` или `fetch`. Также выполняются функции хуков.

### Шаг 2: От сервера к браузеру

Браузер получает отрисованую страницу с сервера с сгенерированным HTML. Отображается контент, и начинается [гидратация Vue.js](https://ssr.vuejs.org/ru/guide/hydration.html), делая его реактивным. После этого процесса страница становится интерактивной.

### Шаг 3: В браузере

Навигация между страницами с помощью [`<NuxtLink>`](/docs/2.x/features/nuxt-components#the-nuxtlink-component) выполняется на стороне клиента, поэтому вы не делаете запрос на сервер снова, если не обновляете страницу.

<quiz :questions="questions"></quiz>
